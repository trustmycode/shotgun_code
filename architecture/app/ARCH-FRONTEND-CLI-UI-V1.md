---
id: ARCH-FRONTEND-CLI-UI
title: "Фронтенд. UI для управления Cursor CLI"
type: component
layer: presentation
owner: '@unassigned'
version: v1
status: planned
created: 2025-09-03
updated: 2025-09-03
tags: [frontend, vue, cli, ui, cursor]
depends_on: [ARCH-BACKEND-CLI-MANAGER]
referenced_by: []
---
## Контекст
Этот компонент представляет собой пользовательский интерфейс на Шаге 4, который обеспечивает взаимодействие с менеджером Cursor CLI на бэкенде. Его задача — динамически отображать состояние CLI (установлен/не установлен) и предоставлять пользователю соответствующие действия (установить/выполнить).

## Структура
Компонент будет реализован на Vue.js.
- **Состояние (State)**:
  - `cliStatus`: 'checking', 'installed', 'not_installed'.
  - `isInstalling`: boolean.
  - `wslStatus`: 'checking', 'installed', 'not_installed' (только для Windows).
- **Логика**:
  - При монтировании компонента вызывается бэкенд-функция `CheckCursorInstallation()` (и проверка WSL на Windows).
  - Результаты сохраняются в состоянии компонента.
- **Шаблон (Template)**:
  - Условный рендеринг на основе `cliStatus` и `wslStatus`.
  - Отображается либо кнопка "Установить Cursor CLI", либо "Выполнить".
  - На Windows, если WSL не обнаружен, отображается информационное сообщение, а кнопки деактивируются.
  - Во время установки (`isInstalling = true`) отображается индикатор загрузки.

## Поведение
1.  **Первый запуск**: Компонент вызывает `CheckCursorInstallation()`.
2.  **Сценарий "Не установлено"**: Отображается кнопка "Установить". При нажатии:
    - Показывается модальное окно для подтверждения.
    - Вызывается бэкенд-функция `InstallCursorCli()`.
    - Отображается индикатор загрузки.
    - После завершения установки снова вызывается `CheckCursorInstallation()` для обновления UI.
3.  **Сценарий "Установлено"**: Отображается кнопка "Выполнить". При нажатии вызывается `ExecuteCliTool()` с финальным промптом.
4.  **Сценарий "Windows без WSL"**: Отображается сообщение с инструкцией по установке WSL, кнопки для установки/выполнения CLI неактивны.

## Эволюция
### Планируется
- Добавление возможности указать кастомный путь к `cursor-agent`.
- Отображение вывода команды `cursor-agent` в реальном времени в консоли приложения.

### История
- v1: Первоначальный дизайн с условным рендерингом для установки и выполнения.

